{"version":3,"sources":["webpack:///./src/app/NewsfeedComponent/homefeed.page.ts","webpack:///./src/app/NewsfeedComponent/newsfeed.module.ts","webpack:///./src/app/NewsfeedComponent/newsfeed.page.html","webpack:///./src/app/NewsfeedComponent/newsfeed.page.scss","webpack:///./src/app/NewsfeedComponent/newsfeed.page.ts"],"names":[],"mappings":"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","file":"NewsfeedComponent-newsfeed-module.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { HttpClient, HttpParams, } from '@angular/common/http';\nimport { Router, NavigationEnd } from '@angular/router';\n\nimport { ToastController } from '@ionic/angular';\nimport { NativeStorage } from '@ionic-native/native-storage/ngx';\n\nimport { AppRouter, ApiRouter } from '../app-router';\nimport { AppService } from '../app-service';\nimport { environment } from '../../environments/environment';\nimport { C, logg } from '../const';\n\n@Component({\n  selector: 'app-newsfeed',\n  templateUrl: './newsfeed.page.html',\n  styleUrls: ['./newsfeed.page.scss'],\n})\nexport class HomefeedPage implements OnInit {\n  newsitems = [];\n\n  constructor(\n    private appService: AppService,\n    private nativeStorage: NativeStorage,\n    private router: Router,\n    public httpClient: HttpClient, \n    public toastController: ToastController,\n  ) {\n    // logg('HomefeedPage.constructor()');\n    appService.setTitle('Homefeed!');\n    this.render();\n  }\n\n  ngOnInit () {}\n\n  async render () {\n    const answer = await this.httpClient.get(ApiRouter.homefeed).toPromise();\n    logg(answer, 'answer');\n    this.newsitems = answer['newsitems'];\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AppModule } from '../app.module';\nimport { HomefeedPage } from './homefeed.page';\nimport { LayoutSidemenuModule } from '../LayoutSidemenu/LayoutSidemenu.module';\nimport { NewsfeedPage } from './newsfeed.page';\n\nconst routes: Routes = [\n  { path: '', component: HomefeedPage },\n  { path: 'news', component: NewsfeedPage },\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    LayoutSidemenuModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ HomefeedPage, NewsfeedPage ],\n})\nexport class NewsfeedPageModule {}","module.exports = \"\\n<layout-sidemenu>\\n  <ion-content>\\n\\n    <div *ngIf=\\\"newsitems.length == 0\\\" >\\n      <br /><br /><br />\\n      <h1>Loading...</h1>\\n      <br /><br /><br />\\n    </div>\\n\\n    \\n      <div class=\\\"a-1\\\" *ngFor=\\\"let n of newsitems\\\">\\n\\n        <div class='row' *ngIf=\\\"n.item_type=='gallery'\\\" >\\n          <div class='title-card'>\\n            <div class='title-card-inner'>\\n              <h1><ion-icon slot=\\\"start\\\" name='camera'></ion-icon> &nbsp; {{ n.name }} ({{ n.photos.length }})</h1>\\n              <p>{{ n.created_at.substring(0,10) }}</p>\\n            </div>\\n          </div>\\n          <div class='card' *ngFor=\\\"let ph of n.photos | slice:0:3\\\">\\n            <div class='card-inner'>\\n              <div class='img'\\n                [ngStyle]=\\\"{ background: '#cccccc url('+ph.large_url+')', \\n                  'background-repeat': 'no-repeat', 'background-position': 'center',\\n                  'background-size': 'contain' }\\\" \\n              >&nbsp;</div>\\n            </div>\\n          </div>\\n        </div>\\n\\n        <div class='row-newsitems-video' *ngIf=\\\"n.item_type=='video'\\\" >\\n          <div class='title-card'>\\n            <div class='title-card-inner'>\\n              <h1><ion-icon slot=\\\"start\\\" name='videocam'></ion-icon> &nbsp; {{ n.name }}</h1>\\n              <p><i>{{ n.created_at.substring(0,10) }}</i></p>\\n            </div>\\n          </div>\\n          <div class='card'>\\n            <div class='card-inner'>\\n              <div *ngIf=\\\"n.youtube_id\\\" >\\n                <iframe width=\\\"560\\\" height=\\\"315\\\" src=\\\"https://www.youtube.com/embed/{{n.youtube_id}}\\\" \\n                  frameborder=\\\"0\\\" allow=\\\"autoplay; encrypted-media\\\" allowfullscreen></iframe>\\n              </div>\\n              <!-- <video src=\\\"{{ n.url }}\\\" width=\\\"100%\\\" controls ></video> -->\\n            </div>\\n          </div>\\n        </div>\\n\\n        <div class='row' *ngIf=\\\"n.item_type=='report'\\\" >\\n          <div class='title-card'>\\n            <div class='title-card-inner'>\\n              <h1><ion-icon slot=\\\"start\\\" name='today' ></ion-icon> &nbsp; <a [routerLink]=\\\"['/en/reports/show/'+n.reportname]\\\" >{{ n.name }}</a></h1>\\n              <p>{{ n.created_at.substring(0,10) }}</p>\\n            </div>\\n          </div>\\n        </div>\\n\\n      </div>\\n    \\n    \\n  </ion-content>\\n</layout-sidemenu>\\n\\n\"","module.exports = \".container {\\n  overflow: scroll; }\\n\\n.a-1 {\\n  width: 100%;\\n  height: 100%; }\\n\\n.row {\\n  height: calc(100% - 40px);\\n  overflow-x: scroll;\\n  overflow-y: hidden;\\n  /* margin: 20px; */\\n  display: flex;\\n  /* align-items: center;\\n  justify-content: center; */\\n  width: auto; }\\n\\n.title-card {\\n  width: 35vw;\\n  min-width: 250px;\\n  margin-right: 40px; }\\n\\n.title-card-inner {\\n  /* border: 2px solid green; */\\n  width: 100%;\\n  background: #eee;\\n  height: calc(100% - 80px);\\n  margin: 20px;\\n  padding: 20px; }\\n\\n.card-inner {\\n  /* border: 1px solid red; */\\n  padding: 10px;\\n  height: 100%; }\\n\\n.card img {\\n  max-height: calc(100% - 20px);\\n  max-width: calc(100vw - 40px);\\n  /* max-height: 100%;\\n  max-width: 100%; */ }\\n\\n.img {\\n  width: calc(100vw - 1em);\\n  /* height: calc(100% - 1em); */\\n  height: 100%; }\\n\\n/**\\n * newsitems-video\\n */\\n\\n.row-newsitems-video {\\n  height: calc(100% - 100px);\\n  overflow-x: scroll;\\n  overflow-y: hidden;\\n  margin: 20px;\\n  display: flex;\\n  /* align-items: center;\\n  justify-content: center; */\\n  width: auto; }\\n\\n.row-newsitems-video .card {\\n    /* max-height: calc(100% - 20px);\\n    max-width: calc(100vw - 40px); */\\n    display: flex;\\n    align-items: center;\\n    justify-content: center; }\\n\\n.row-newsitems-video .card-inner {\\n    /* border: 1px solid red; */\\n    background: #eee;\\n    margin: 0;\\n    padding: 0;\\n    min-width: 90vw;\\n    /* max-height: calc(100% - 100px); */\\n    height: calc(100% - 20px);\\n    display: flex;\\n    align-items: center;\\n    justify-content: center; }\\n\\n.row-newsitems-video .card-inner video {\\n    margin: auto;\\n    max-width: 100%;\\n    max-height: 100%; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9waW91c2JveC9wcm9qZWN0cy9ub2RlLmpzL2dhbWV1aV9pb25pYy9zcmMvYXBwL05ld3NmZWVkQ29tcG9uZW50L25ld3NmZWVkLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTtFQUNFLGlCQUFnQixFQUNqQjs7QUFFRDtFQUNFLFlBQVc7RUFDWCxhQUFZLEVBQ2I7O0FBRUQ7RUFDRSwwQkFBeUI7RUFFekIsbUJBQWtCO0VBQ2xCLG1CQUFrQjtFQUVsQixtQkFBbUI7RUFFbkIsY0FBYTtFQUNiOzZCQUMyQjtFQUUzQixZQUFXLEVBQ1o7O0FBRUQ7RUFDRSxZQUFXO0VBQ1gsaUJBQWdCO0VBQ2hCLG1CQUFrQixFQUNuQjs7QUFDRDtFQUNFLDhCQUE4QjtFQUM5QixZQUFXO0VBQ1gsaUJBQWdCO0VBQ2hCLDBCQUF5QjtFQUN6QixhQUFZO0VBQ1osY0FBYSxFQUNkOztBQUdEO0VBQ0UsNEJBQTRCO0VBQzVCLGNBQWE7RUFDYixhQUFZLEVBQ2I7O0FBQ0Q7RUFDRSw4QkFBNkI7RUFDN0IsOEJBQTZCO0VBQzdCO3FCQUNtQixFQUNwQjs7QUFFRDtFQUNFLHlCQUF3QjtFQUN4QiwrQkFBK0I7RUFDL0IsYUFBWSxFQUNiOztBQUVEOztHQUVHOztBQUNIO0VBQ0UsMkJBQTBCO0VBRTFCLG1CQUFrQjtFQUNsQixtQkFBa0I7RUFFbEIsYUFBWTtFQUVaLGNBQWE7RUFDYjs2QkFDMkI7RUFFM0IsWUFBVyxFQTRCWjs7QUF4Q0Q7SUFlSTtxQ0FDaUM7SUFFakMsY0FBYTtJQUNiLG9CQUFtQjtJQUNuQix3QkFBdUIsRUFDeEI7O0FBckJIO0lBdUJJLDRCQUE0QjtJQUM1QixpQkFBZ0I7SUFDaEIsVUFBUztJQUNULFdBQVU7SUFDVixnQkFBZTtJQUNmLHFDQUFxQztJQUNyQywwQkFBeUI7SUFFekIsY0FBYTtJQUNiLG9CQUFtQjtJQUNuQix3QkFBdUIsRUFDeEI7O0FBbENIO0lBb0NJLGFBQVk7SUFDWixnQkFBZTtJQUNmLGlCQUFnQixFQUNqQiIsImZpbGUiOiJzcmMvYXBwL05ld3NmZWVkQ29tcG9uZW50L25ld3NmZWVkLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIlxuLmNvbnRhaW5lciB7XG4gIG92ZXJmbG93OiBzY3JvbGw7XG59XG5cbi5hLTEge1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xufVxuXG4ucm93IHtcbiAgaGVpZ2h0OiBjYWxjKDEwMCUgLSA0MHB4KTtcblxuICBvdmVyZmxvdy14OiBzY3JvbGw7XG4gIG92ZXJmbG93LXk6IGhpZGRlbjtcblxuICAvKiBtYXJnaW46IDIwcHg7ICovXG5cbiAgZGlzcGxheTogZmxleDtcbiAgLyogYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7ICovXG5cbiAgd2lkdGg6IGF1dG87XG59XG5cbi50aXRsZS1jYXJkIHtcbiAgd2lkdGg6IDM1dnc7XG4gIG1pbi13aWR0aDogMjUwcHg7XG4gIG1hcmdpbi1yaWdodDogNDBweDtcbn1cbi50aXRsZS1jYXJkLWlubmVyIHtcbiAgLyogYm9yZGVyOiAycHggc29saWQgZ3JlZW47ICovXG4gIHdpZHRoOiAxMDAlO1xuICBiYWNrZ3JvdW5kOiAjZWVlO1xuICBoZWlnaHQ6IGNhbGMoMTAwJSAtIDgwcHgpO1xuICBtYXJnaW46IDIwcHg7XG4gIHBhZGRpbmc6IDIwcHg7XG59XG4uY2FyZCB7XG59XG4uY2FyZC1pbm5lciB7XG4gIC8qIGJvcmRlcjogMXB4IHNvbGlkIHJlZDsgKi9cbiAgcGFkZGluZzogMTBweDtcbiAgaGVpZ2h0OiAxMDAlO1xufVxuLmNhcmQgaW1nIHtcbiAgbWF4LWhlaWdodDogY2FsYygxMDAlIC0gMjBweCk7XG4gIG1heC13aWR0aDogY2FsYygxMDB2dyAtIDQwcHgpO1xuICAvKiBtYXgtaGVpZ2h0OiAxMDAlO1xuICBtYXgtd2lkdGg6IDEwMCU7ICovXG59XG5cbi5pbWcge1xuICB3aWR0aDogY2FsYygxMDB2dyAtIDFlbSk7XG4gIC8qIGhlaWdodDogY2FsYygxMDAlIC0gMWVtKTsgKi9cbiAgaGVpZ2h0OiAxMDAlO1xufVxuXG4vKipcbiAqIG5ld3NpdGVtcy12aWRlb1xuICovXG4ucm93LW5ld3NpdGVtcy12aWRlbyB7XG4gIGhlaWdodDogY2FsYygxMDAlIC0gMTAwcHgpO1xuXG4gIG92ZXJmbG93LXg6IHNjcm9sbDtcbiAgb3ZlcmZsb3cteTogaGlkZGVuO1xuXG4gIG1hcmdpbjogMjBweDtcblxuICBkaXNwbGF5OiBmbGV4O1xuICAvKiBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgKi9cblxuICB3aWR0aDogYXV0bztcblxuICAuY2FyZCB7XG4gICAgLyogbWF4LWhlaWdodDogY2FsYygxMDAlIC0gMjBweCk7XG4gICAgbWF4LXdpZHRoOiBjYWxjKDEwMHZ3IC0gNDBweCk7ICovXG5cbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIH1cbiAgLmNhcmQtaW5uZXIge1xuICAgIC8qIGJvcmRlcjogMXB4IHNvbGlkIHJlZDsgKi9cbiAgICBiYWNrZ3JvdW5kOiAjZWVlO1xuICAgIG1hcmdpbjogMDtcbiAgICBwYWRkaW5nOiAwO1xuICAgIG1pbi13aWR0aDogOTB2dztcbiAgICAvKiBtYXgtaGVpZ2h0OiBjYWxjKDEwMCUgLSAxMDBweCk7ICovXG4gICAgaGVpZ2h0OiBjYWxjKDEwMCUgLSAyMHB4KTtcblxuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgfVxuICAuY2FyZC1pbm5lciB2aWRlbyB7XG4gICAgbWFyZ2luOiBhdXRvO1xuICAgIG1heC13aWR0aDogMTAwJTtcbiAgICBtYXgtaGVpZ2h0OiAxMDAlO1xuICB9XG59XG4iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport { HttpClient, HttpParams, } from '@angular/common/http';\nimport { Router, NavigationEnd } from '@angular/router';\n\nimport { ToastController } from '@ionic/angular';\nimport { NativeStorage } from '@ionic-native/native-storage/ngx';\n\nimport { AppRouter, ApiRouter } from '../app-router';\nimport { AppService } from '../app-service';\nimport { environment } from '../../environments/environment';\nimport { C, logg } from '../const';\n\n@Component({\n  selector: 'app-newsfeed',\n  templateUrl: './newsfeed.page.html',\n  styleUrls: ['./newsfeed.page.scss'],\n})\nexport class NewsfeedPage implements OnInit {\n  currentUser: any = null;\n  newsitems: any = [];\n\n  constructor(\n    private appService: AppService,\n    private nativeStorage: NativeStorage,\n    private router: Router,\n    public httpClient: HttpClient, \n    public toastController: ToastController,\n  ) {\n    logg('NewsfeedPage#constructor');\n    appService.setTitle('Newsfeed');\n\n    router.events.subscribe(event => {\n      if (event instanceof NavigationEnd) {\n        this.ngOnInit();\n      }\n    });\n\n    this.render();\n  }\n\n  ngOnInit () {}\n/*    this.appService.currentMessage.subscribe( message => {\n      console.log('+++ new message:', message)\n      if (message == C.didLogin) {\n        this.render();\n      }\n    });\n  } */\n\n  render () {\n    logg('newsfeed.page#render');\n\n    this.nativeStorage.getItem('current_user').then(a=>JSON.parse(a)).then(data => {\n      logg(data, 'current_user 5');\n\n      this.currentUser = data;\n      if ('facebook' == data.type) {\n        const params = new HttpParams().set('accessToken', data.accessToken);\n        logg(params, 'params');\n\n        const answer = this.httpClient.get(ApiRouter.newsfeed, { params: params });\n        logg(answer, 'answer');\n\n        answer.subscribe(data => {\n          if (data['newsitems']) {\n            this.newsitems = data['newsitems'];\n          }\n        }, async error => {\n          console.log('+++ error from m3 1-:', JSON.stringify(error))\n          const toast = await this.toastController.create({\n            message: 'The token has expired? Please login.',\n            duration: 2000\n          });\n          toast.present();\n        });\n      }\n    }, async error => {\n      console.log('+++ newsfeed doesnt have current_user:', error);\n      const toast = await this.toastController.create({\n        message: 'You are not logged in - please login.',\n        duration: 2000\n      });\n      toast.present();\n    });\n  }\n\n  ionViewDidLoad () {\n    console.log('+++ newsfeed ionViewDidLoad');\n  }\n\n}\n\n"],"sourceRoot":""}